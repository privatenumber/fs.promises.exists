"use strict";var l=require("fs");function d(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var u=d(l);const p=/^[./]/,h=(t,e,n)=>{if(n)return t.includes(e)?e:!1;const s=e.toLowerCase();return t.find(r=>r.toLowerCase()===s)},c=t=>u.default.promises.readdir(t).catch(()=>null);async function w(t,e){if(e===void 0)return await u.default.promises.access(t).then(()=>!0,()=>!1);const n=t.split("/"),s=[];let r=null;p.test(t)||(r=await c("."));for(let a=0;a<n.length;a+=1){let o=n[a];if(r){const f=h(r,o,e);if(!f)return!1;o=f}const i=[...s,o].join("/")||"/";if(a===n.length-1)return e?!0:i;r=await c(i),s.push(o)}}module.exports=w;
