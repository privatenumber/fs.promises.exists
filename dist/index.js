"use strict";var require$$0=require("fs");const fs=require$$0,isPathPattern=/^[./]/,inArray=(t,r,s)=>{if(s)return t.includes(r)?r:!1;const n=r.toLowerCase();return t.find(e=>e.toLowerCase()===n)},readdir=t=>fs.promises.readdir(t).catch(()=>null);async function fsExists(t,r){if(r===void 0)return await fs.promises.access(t).then(()=>!0,()=>!1);const s=t.split("/"),n=[];let e=null;isPathPattern.test(t)||(e=await readdir("."));for(let o=0;o<s.length;o+=1){let i=s[o];if(e){const c=inArray(e,i,r);if(!c)return!1;i=c}const a=[...n,i].join("/")||"/";if(o===s.length-1)return r?!0:a;e=await readdir(a),n.push(i)}}var src=fsExists;module.exports=src;
