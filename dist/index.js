"use strict";var require$$0=require("fs");const fs=require$$0,isPathPattern=/^[./]/,inArray=(t,e,s)=>{if(s)return t.includes(e)?e:!1;const n=e.toLowerCase();return t.find(r=>r.toLowerCase()===n)},readdir=t=>fs.promises.readdir(t).catch(()=>null);async function fsExists(t,e){if(e===void 0)return await fs.promises.access(t).then(()=>!0,()=>!1);const s=t.split("/"),n=[];let r=null;isPathPattern.test(t)||(r=await readdir("."));for(let o=0;o<s.length;o+=1){let i=s[o];if(r){const c=inArray(r,i,e);if(!c)return!1;i=c}const a=[...n,i].join("/")||"/";if(o===s.length-1)return e?Boolean(a):a;r=await readdir(a),n.push(i)}}var src=fsExists;module.exports=src;
