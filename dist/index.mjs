import u from"fs";const f=u,d=/^[./]/,p=(t,r,s)=>{if(s)return t.includes(r)?r:!1;const n=r.toLowerCase();return t.find(e=>e.toLowerCase()===n)},l=t=>f.promises.readdir(t).catch(()=>null);async function h(t,r){if(r===void 0)return await f.promises.access(t).then(()=>!0,()=>!1);const s=t.split("/"),n=[];let e=null;d.test(t)||(e=await l("."));for(let o=0;o<s.length;o+=1){let a=s[o];if(e){const c=p(e,a,r);if(!c)return!1;a=c}const i=[...n,a].join("/")||"/";if(o===s.length-1)return r?Boolean(i):i;e=await l(i),n.push(a)}}var w=h;export{w as default};
