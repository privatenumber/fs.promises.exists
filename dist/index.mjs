import f from"fs";const u=/^[./]/,d=(t,e,s)=>{if(s)return t.includes(e)?e:!1;const n=e.toLowerCase();return t.find(r=>r.toLowerCase()===n)},l=t=>f.promises.readdir(t).catch(()=>null);async function p(t,e){if(e===void 0)return await f.promises.access(t).then(()=>!0,()=>!1);const s=t.split("/"),n=[];let r=null;u.test(t)||(r=await l("."));for(let o=0;o<s.length;o+=1){let i=s[o];if(r){const c=d(r,i,e);if(!c)return!1;i=c}const a=[...n,i].join("/")||"/";if(o===s.length-1)return e?!0:a;r=await l(a),n.push(i)}}export{p as default};
